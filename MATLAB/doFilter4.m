function y = doFilter(x)
%DOFILTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.7 and DSP System Toolbox 9.9.
% Generated on: 04-May-2020 21:51:08

%#codegen

% To generate C/C++ code from this function use the codegen command.
% Type 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    %
    % Fstop1 = 50000000;   % First Stopband Frequency
    % Fpass1 = 52500000;   % First Passband Frequency
    % Fpass2 = 57500000;   % Second Passband Frequency
    % Fstop2 = 60000000;   % Second Stopband Frequency
    % Astop1 = 50;         % First Stopband Attenuation (dB)
    % Apass  = 0.05;       % Passband Ripple (dB)
    % Astop2 = 50;         % Second Stopband Attenuation (dB)
    % Fs     = 160000000;  % Sampling Frequency
    %
    % h = fdesign.interpolator(8, 'Bandpass', ...
    %                          'fst1,fp1,fp2,fst2,ast1,ap,ast2', Fstop1, ...
    % Fpass1, Fpass2, Fstop2, Astop1, Apass, Astop2, Fs);
    %
    % Hd = design(h, 'equiripple', ...
    %     'MinOrder', 'any', ...
    %     'SystemObject', true);
    
    Hd = dsp.FIRInterpolator( ...
        'Numerator', [0.00612547580999279 -0.00996386443101551 ...
        -0.00424483556985916 -0.00130751818293697 -0.00131264056017506 ...
        -0.000586770013983542 -0.0013294542617577 0.00258086808150705 ...
        -0.00163424948798079 -0.003177868561852 0.00726609040501231 ...
        -0.00497268056293374 -0.00407778735469826 0.012002809301046 ...
        -0.00970587324991531 -0.00294866082773514 0.0148947242980028 ...
        -0.0140186845200538 -1.05180297213052e-05 0.0143006013493689 ...
        -0.0153798687785669 0.00303450028758041 0.00987963794301669 ...
        -0.0115483009486409 0.00344547771544872 0.00316113843398841 ...
        -0.00184407142360913 -0.0013733807840923 -0.00275342071010345 ...
        0.0119892104441871 -0.0123440513306587 -0.00445572374165641 ...
        0.0259360238139011 -0.027553063710467 -2.17535734769352e-05 ...
        0.0350258607820619 -0.0421780095325824 0.00942223003264942 ...
        0.0354534833490799 -0.0497700313764346 0.0191698445250261 ...
        0.0267808480701471 -0.044811972827683 0.0222030723409156 ...
        0.0129015409809678 -0.0254483217844446 0.011892525966243 ...
        0.0012534448191816 0.00471812729850957 -0.0146154869346647 ...
        -6.63657674105923e-06 0.0369720798034775 -0.0538577549957206 ...
        0.0140307083463245 0.0602444165387346 -0.0956076215584377 ...
        0.0415186655449474 0.0655738782573534 -0.125409714841861 ...
        0.0724616162949114 0.0508345759841945 -0.129501365939412 ...
        0.0904654450409772 0.0234902510026687 -0.100596798117449 ...
        0.0777770576916052 1.13370087654446e-05 -0.0423547291463319 ...
        0.0218949680179187 0.00142328233035348 0.0296522097990384 ...
        -0.0783209543795409 0.0461993032678706 0.0912482044670494 ...
        -0.209791322546243 0.142725213111765 0.11678370031642 -0.346922838203689 ...
        0.284327138413233 0.0877631199299498 -0.458067762028675 ...
        0.448811937899837 2.74217112140417e-05 -0.51472825982757 ...
        0.603418708468788 -0.133212786073933 -0.500567570320602 0.7137268067407 ...
        -0.283975442410948 -0.417122256234074 0.753721332623444 ...
        -0.417122256234074 -0.283975442410948 0.7137268067407 -0.500567570320602 ...
        -0.133212786073933 0.603418708468788 -0.51472825982757 ...
        2.74217112140417e-05 0.448811937899837 -0.458067762028675 ...
        0.0877631199299498 0.284327138413233 -0.346922838203689 0.11678370031642 ...
        0.142725213111765 -0.209791322546243 0.0912482044670494 ...
        0.0461993032678706 -0.0783209543795409 0.0296522097990384 ...
        0.00142328233035348 0.0218949680179187 -0.0423547291463319 ...
        1.13370087654446e-05 0.0777770576916052 -0.100596798117449 ...
        0.0234902510026687 0.0904654450409772 -0.129501365939412 ...
        0.0508345759841945 0.0724616162949114 -0.125409714841861 ...
        0.0655738782573534 0.0415186655449474 -0.0956076215584377 ...
        0.0602444165387346 0.0140307083463245 -0.0538577549957206 ...
        0.0369720798034775 -6.63657674105923e-06 -0.0146154869346647 ...
        0.00471812729850957 0.0012534448191816 0.011892525966243 ...
        -0.0254483217844446 0.0129015409809678 0.0222030723409156 ...
        -0.044811972827683 0.0267808480701471 0.0191698445250261 ...
        -0.0497700313764346 0.0354534833490799 0.00942223003264942 ...
        -0.0421780095325824 0.0350258607820619 -2.17535734769352e-05 ...
        -0.027553063710467 0.0259360238139011 -0.00445572374165641 ...
        -0.0123440513306587 0.0119892104441871 -0.00275342071010345 ...
        -0.0013733807840923 -0.00184407142360913 0.00316113843398841 ...
        0.00344547771544872 -0.0115483009486409 0.00987963794301669 ...
        0.00303450028758041 -0.0153798687785669 0.0143006013493689 ...
        -1.05180297213052e-05 -0.0140186845200538 0.0148947242980028 ...
        -0.00294866082773514 -0.00970587324991531 0.012002809301046 ...
        -0.00407778735469826 -0.00497268056293374 0.00726609040501231 ...
        -0.003177868561852 -0.00163424948798079 0.00258086808150705 ...
        -0.0013294542617577 -0.000586770013983542 -0.00131264056017506 ...
        -0.00130751818293697 -0.00424483556985916 -0.00996386443101551 ...
        0.00612547580999279], ...
        'InterpolationFactor', 8);
end

s = double(x);
y = step(Hd,s);

