function y = doFilter(x)
%DOFILTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.7 and DSP System Toolbox 9.9.
% Generated on: 04-May-2020 14:49:48

%#codegen

% To generate C/C++ code from this function use the codegen command.
% Type 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    %
    % Fstop1 = 10000000;  % First Stopband Frequency
    % Fpass1 = 12500000;  % First Passband Frequency
    % Fpass2 = 17500000;  % Second Passband Frequency
    % Fstop2 = 20000000;  % Second Stopband Frequency
    % Astop1 = 50;        % First Stopband Attenuation (dB)
    % Apass  = 0.05;      % Passband Ripple (dB)
    % Astop2 = 50;        % Second Stopband Attenuation (dB)
    % Fs     = 60000000;  % Sampling Frequency
    %
    % h = fdesign.decimator(3, 'Bandpass', 'fst1,fp1,fp2,fst2,ast1,ap,ast2', ...
    %                       Fstop1, Fpass1, Fpass2, Fstop2, Astop1, Apass, ...
    % Astop2, Fs);
    %
    % Hd = design(h, 'equiripple', ...
    %     'MinOrder', 'any', ...
    %     'SystemObject', true);
    
    Hd = dsp.FIRDecimator( ...
        'Numerator', [-0.00181353884415813 1.15201290583807e-05 ...
        7.53725672782724e-05 2.31790695439677e-06 0.00248651221294113 ...
        5.42733587435216e-06 -0.00531346839227806 1.26772281695773e-05 ...
        0.00551735138872536 -5.48605897041173e-09 -0.000675338890464747 ...
        9.44314526193841e-06 -0.00827152134662981 1.22427178605206e-05 ...
        0.0160681301638724 -2.91942574918651e-06 -0.0151298749148044 ...
        1.36311552821872e-05 0.000994389636587513 6.51772964953452e-06 ...
        0.022558046565764 -2.34584446085117e-06 -0.0419647138026085 ...
        1.80307334101873e-05 0.0391580873345343 -8.61137599343149e-07 ...
        -0.00124536217241749 2.85090070035873e-06 -0.0699117049029683 ...
        1.71330855313988e-05 0.155158014454564 -4.96346597764108e-06 ...
        -0.224596842377778 1.07028955759063e-05 0.25135731071026 ...
        1.07028955759063e-05 -0.224596842377778 -4.96346597764108e-06 ...
        0.155158014454564 1.71330855313988e-05 -0.0699117049029683 ...
        2.85090070035873e-06 -0.00124536217241749 -8.61137599343149e-07 ...
        0.0391580873345343 1.80307334101873e-05 -0.0419647138026085 ...
        -2.34584446085117e-06 0.022558046565764 6.51772964953452e-06 ...
        0.000994389636587513 1.36311552821872e-05 -0.0151298749148044 ...
        -2.91942574918651e-06 0.0160681301638724 1.22427178605206e-05 ...
        -0.00827152134662981 9.44314526193841e-06 -0.000675338890464747 ...
        -5.48605897041173e-09 0.00551735138872536 1.26772281695773e-05 ...
        -0.00531346839227806 5.42733587435216e-06 0.00248651221294113 ...
        2.31790695439677e-06 7.53725672782724e-05 1.15201290583807e-05 ...
        -0.00181353884415813], ...
        'DecimationFactor', 3);
end

s = double(x);
y = step(Hd,s);

